import{g as d,s as P,u as C,p as q}from"./showToast-Ibu8L8ei.js";/* empty css              */const f=(o,e)=>{let r=d().find(u=>u.id===o),n=1;return r&&(n=r.quantity,e=r.price),{quantity:n,price:e}},y=()=>{let o=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),n=d().reduce((u,l)=>{let t=parseInt(l.price)||0;return u+t},0);o.textContent=`PKR${n}`,e.textContent=`PKR${n+50}`},g=(o,e,c,r)=>{const n=document.querySelector(`#card${e}`),u=n.querySelector(".productQuantity"),l=n.querySelector(".productPrice");let t=1,a=0,p=d(),s=p.find(i=>i.id===e);s?(t=s.quantity,a=s.price):(a=r,r=r),o.target.className==="cartIncrement"&&(t<c?t+=1:t==c&&(t=c,a=r*c)),o.target.className==="cartDecrement"&&t>1&&(t-=1),a=r*t,a=Number(a.toFixed(2));let m={id:e,quantity:t,price:a};m=p.map(i=>i.id===e?m:i),localStorage.setItem("cartProductsLS",JSON.stringify(m)),u.innerText=t,l.innerText=a,y()},x=o=>{let e=d();e=e.filter(r=>r.id!==o),localStorage.setItem("cartProductsLS",JSON.stringify(e));let c=document.getElementById(`card${o}`);c&&(c.remove(),P("delete",o)),C(e)};let T=d(),S=q.filter(o=>T.some(e=>e.id===o.id));console.log(S);const v=document.querySelector("#productCartContainer"),E=document.querySelector("#productCartTemplate"),I=()=>{S.forEach(o=>{const{category:e,id:c,name:r,image:n,stock:u,price:l}=o;let t=document.importNode(E.content,!0);const a=f(c,l);t.querySelector(".category").textContent=e,t.querySelector("#cardValue").setAttribute("id",`card${c}`),t.querySelector(".productName").textContent=r,t.querySelector(".productImage").src=n,t.querySelector(".productImage").alt=r,t.querySelector(".productQuantity").textContent=a.quantity,t.querySelector(".productPrice").textContent=a.price,t.querySelector(".remove-to-cart-button").addEventListener("click",()=>x(c)),t.querySelector(".stockElement").addEventListener("click",()=>g(event,c,u,l)),v.appendChild(t)})};I();y();
